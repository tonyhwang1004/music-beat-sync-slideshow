<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ BEAT SYNC STUDIO - ìŒì•…ê³¼ ì‚¬ì§„ì´ ì‚´ì•„ ì›€ì§ì´ëŠ” ë§ˆë²•</title>
    <meta name="description" content="AI-powered music beat detection and dynamic photo synchronization">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸµ</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-pink: #ff006e;
            --neon-blue: #8338ec;
            --neon-cyan: #06ffa5;
            --neon-orange: #fb8500;
            --deep-purple: #240046;
            --cosmic-gradient: linear-gradient(135deg, #240046 0%, #3c096c 25%, #5a189a 50%, #7209b7 75%, #9d4edd 100%);
            --energy-gradient: linear-gradient(45deg, #ff006e 0%, #8338ec 25%, #3a86ff 50%, #06ffa5 75%, #ffbe0b 100%);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow-glow: 0 0 40px rgba(255, 0, 110, 0.3);
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--cosmic-gradient);
            background-size: 400% 400%;
            animation: cosmicFlow 20s ease infinite;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes cosmicFlow {
            0%, 100% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 50% 100%; }
            75% { background-position: 0% 0%; }
        }

        /* Cosmic Background Effects */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .energy-wave {
            position: fixed;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 0%, rgba(255, 0, 110, 0.1) 50%, transparent 100%);
            border-radius: 50%;
            animation: energyPulse 4s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes energyPulse {
            0%, 100% { transform: scale(0.8) rotate(0deg); opacity: 0.3; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.1; }
        }

        /* Main Container */
        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .main-header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
            z-index: 10;
        }

        .logo-title {
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 900;
            background: var(--energy-gradient);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: energyText 3s ease-in-out infinite;
            text-shadow: 0 0 60px rgba(255, 0, 110, 0.5);
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px rgba(131, 56, 236, 0.7));
        }

        @keyframes energyText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: clamp(1.2rem, 3vw, 2rem);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
            margin-bottom: 40px;
            text-shadow: 0 0 20px rgba(6, 255, 165, 0.5);
        }

        /* Control Panel */
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 0 20px 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .control-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-glow);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
        }

        .control-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.8s;
        }

        .control-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(255, 0, 110, 0.4);
        }

        .control-card:hover::before {
            left: 100%;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--neon-cyan);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .upload-zone {
            border: 3px dashed var(--neon-pink);
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .upload-zone:hover {
            border-color: var(--neon-cyan);
            background: rgba(255, 0, 110, 0.1);
            transform: scale(1.02);
        }

        .upload-zone.dragover {
            border-color: var(--neon-cyan);
            background: rgba(6, 255, 165, 0.1);
            transform: scale(1.05);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .btn {
            background: var(--energy-gradient);
            background-size: 200% 200%;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            width: 100%;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 25px rgba(255, 0, 110, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 0, 110, 0.6);
            animation: energyButton 0.3s ease;
        }

        @keyframes energyButton {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Main Display Area */
        .main-display {
            flex: 1;
            position: relative;
            margin: 20px;
            border-radius: 30px;
            overflow: hidden;
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 20px 80px rgba(0, 0, 0, 0.3);
        }

        .display-content {
            position: relative;
            width: 100%;
            height: 70vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 60px 40px;
            background: radial-gradient(circle, rgba(255, 0, 110, 0.1) 0%, transparent 70%);
        }

        .welcome-title {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 30px;
            background: var(--energy-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-text {
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            opacity: 0.9;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Advanced Dynamic Photo Effects */
        .photo-container {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: scale(0.8) rotateY(90deg);
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .photo-container.active {
            opacity: 1;
            transform: scale(1) rotateY(0deg);
            pointer-events: auto;
        }

        .photo {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 30px 100px rgba(0, 0, 0, 0.5);
            filter: drop-shadow(0 0 30px rgba(255, 0, 110, 0.3));
            transition: all 0.3s ease;
        }

        /* Multi-directional Flying Photos */
        .flying-photo {
            position: fixed;
            z-index: 1000;
            pointer-events: none;
            max-width: 200px;
            max-height: 150px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            filter: drop-shadow(0 0 20px rgba(255, 0, 110, 0.5));
        }

        /* Flying directions */
        .fly-from-left {
            animation: flyFromLeft 2s ease-out forwards;
        }

        .fly-from-right {
            animation: flyFromRight 2s ease-out forwards;
        }

        .fly-from-top {
            animation: flyFromTop 2s ease-out forwards;
        }

        .fly-from-bottom {
            animation: flyFromBottom 2s ease-out forwards;
        }

        .fly-from-top-left {
            animation: flyFromTopLeft 2s ease-out forwards;
        }

        .fly-from-top-right {
            animation: flyFromTopRight 2s ease-out forwards;
        }

        .fly-from-bottom-left {
            animation: flyFromBottomLeft 2s ease-out forwards;
        }

        .fly-from-bottom-right {
            animation: flyFromBottomRight 2s ease-out forwards;
        }

        @keyframes flyFromLeft {
            0% {
                transform: translateX(-100vw) rotate(-180deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: translateX(50vw) rotate(0deg) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translateX(100vw) rotate(180deg) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes flyFromRight {
            0% {
                transform: translateX(100vw) rotate(180deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: translateX(-50vw) rotate(0deg) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translateX(-100vw) rotate(-180deg) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes flyFromTop {
            0% {
                transform: translateY(-100vh) rotate(-90deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: translateY(50vh) rotate(0deg) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(90deg) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes flyFromBottom {
            0% {
                transform: translateY(100vh) rotate(90deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: translateY(-50vh) rotate(0deg) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(-90deg) scale(0.3);
                opacity: 0;
            }
        }

        @keyframes flyFromTopLeft {
            0% {
                transform: translate(-100vw, -100vh) rotate(-225deg) scale(0.3);
                opacity: 0;
            }
            50% {
                transform: translate(50vw, 50vh) rotate(0deg) scale(1.3);
                opacity: 1;
            }
            100% {
                transform: translate(100vw, 100vh) rotate(225deg) scale(0.2);
                opacity: 0;
            }
        }

        @keyframes flyFromTopRight {
            0% {
                transform: translate(100vw, -100vh) rotate(225deg) scale(0.3);
                opacity: 0;
            }
            50% {
                transform: translate(-50vw, 50vh) rotate(0deg) scale(1.3);
                opacity: 1;
            }
            100% {
                transform: translate(-100vw, 100vh) rotate(-225deg) scale(0.2);
                opacity: 0;
            }
        }

        @keyframes flyFromBottomLeft {
            0% {
                transform: translate(-100vw, 100vh) rotate(135deg) scale(0.3);
                opacity: 0;
            }
            50% {
                transform: translate(50vw, -50vh) rotate(0deg) scale(1.3);
                opacity: 1;
            }
            100% {
                transform: translate(100vw, -100vh) rotate(-135deg) scale(0.2);
                opacity: 0;
            }
        }

        @keyframes flyFromBottomRight {
            0% {
                transform: translate(100vw, 100vh) rotate(-135deg) scale(0.3);
                opacity: 0;
            }
            50% {
                transform: translate(-50vw, -50vh) rotate(0deg) scale(1.3);
                opacity: 1;
            }
            100% {
                transform: translate(-100vw, -100vh) rotate(135deg) scale(0.2);
                opacity: 0;
            }
        }

        /* Enhanced Paper Crumple Effect */
        .paper-crumple {
            animation: paperCrumpleEnhanced 2.5s ease-out forwards;
            transform-origin: center center;
        }

        @keyframes paperCrumpleEnhanced {
            0% {
                transform: scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
                filter: brightness(1) sepia(0) contrast(1);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            }
            20% {
                transform: scale(0.9) rotateX(15deg) rotateY(10deg) rotateZ(5deg);
                filter: brightness(0.9) sepia(0.1) contrast(1.1);
                box-shadow: 0 15px 45px rgba(0, 0, 0, 0.5);
            }
            40% {
                transform: scale(0.7) rotateX(45deg) rotateY(30deg) rotateZ(15deg);
                filter: brightness(0.7) sepia(0.3) contrast(1.3);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            }
            60% {
                transform: scale(0.5) rotateX(90deg) rotateY(60deg) rotateZ(30deg);
                filter: brightness(0.5) sepia(0.5) contrast(1.5);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7);
            }
            80% {
                transform: scale(0.2) rotateX(135deg) rotateY(120deg) rotateZ(60deg);
                filter: brightness(0.3) sepia(0.7) contrast(1.8);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            }
            100% {
                transform: scale(0.05) rotateX(180deg) rotateY(180deg) rotateZ(90deg);
                opacity: 0;
                filter: brightness(0.1) sepia(1) contrast(2);
                box-shadow: 0 0 0 rgba(0, 0, 0, 0);
            }
        }

        /* Enhanced Glass Shatter Effect */
        .glass-shard {
            position: absolute;
            background-size: cover;
            background-position: center;
            border-radius: 3px;
            animation: glassShatterEnhanced 3s ease-out forwards;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
        }

        @keyframes glassShatterEnhanced {
            0% {
                transform: translateZ(0) rotate(0deg) scale(1);
                opacity: 1;
                filter: brightness(1) blur(0px);
            }
            10% {
                transform: translateZ(-50px) rotate(180deg) scale(1.1);
                opacity: 0.9;
                filter: brightness(1.5) blur(1px) drop-shadow(0 0 10px rgba(255, 255, 255, 0.8));
            }
            50% {
                transform: translateZ(-200px) rotate(720deg) scale(0.8) 
                          translateX(var(--shatter-x)) translateY(var(--shatter-y));
                opacity: 0.6;
                filter: brightness(2) blur(3px) drop-shadow(0 0 15px rgba(255, 255, 255, 0.6));
            }
            80% {
                transform: translateZ(-400px) rotate(1080deg) scale(0.3) 
                          translateX(calc(var(--shatter-x) * 1.5)) translateY(calc(var(--shatter-y) * 1.5));
                opacity: 0.2;
                filter: brightness(3) blur(5px) drop-shadow(0 0 20px rgba(255, 255, 255, 0.4));
            }
            100% {
                transform: translateZ(-600px) rotate(1440deg) scale(0.1) 
                          translateX(calc(var(--shatter-x) * 2)) translateY(calc(var(--shatter-y) * 2));
                opacity: 0;
                filter: brightness(5) blur(10px) drop-shadow(0 0 25px rgba(255, 255, 255, 0.2));
            }
        }

        /* Photo Scatter Effect */
        .scatter-photo {
            position: fixed;
            z-index: 1000;
            pointer-events: none;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .scatter-1 { animation: scatter1 3s ease-out forwards; }
        .scatter-2 { animation: scatter2 3s ease-out forwards; }
        .scatter-3 { animation: scatter3 3s ease-out forwards; }
        .scatter-4 { animation: scatter4 3s ease-out forwards; }
        .scatter-5 { animation: scatter5 3s ease-out forwards; }
        .scatter-6 { animation: scatter6 3s ease-out forwards; }
        .scatter-7 { animation: scatter7 3s ease-out forwards; }
        .scatter-8 { animation: scatter8 3s ease-out forwards; }

        @keyframes scatter1 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(-80vw, -60vh) rotate(-720deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter2 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(80vw, -60vh) rotate(720deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter3 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(-80vw, 60vh) rotate(-540deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter4 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(80vw, 60vh) rotate(540deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter5 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(0, -80vh) rotate(360deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter6 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(0, 80vh) rotate(-360deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter7 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(-60vw, 0) rotate(900deg) scale(0.2); opacity: 0; }
        }

        @keyframes scatter8 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translate(60vw, 0) rotate(-900deg) scale(0.2); opacity: 0; }
        }

        /* Fullscreen Mode */
        .fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 9999 !important;
            margin: 0 !important;
            border-radius: 0 !important;
        }

        .fullscreen .display-content {
            height: 100vh !important;
        }

        .app-container.fullscreen-mode .control-panel,
        .app-container.fullscreen-mode .main-header {
            display: none !important;
        }

        .app-container.fullscreen-mode .main-display {
            margin: 0 !important;
            border-radius: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
        }

        /* Audio Visualizer */
        .visualizer-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 120px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.5), transparent);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: end;
            padding: 20px;
            gap: 3px;
        }

        .visualizer-bar {
            width: 6px;
            background: var(--energy-gradient);
            border-radius: 3px;
            transition: height 0.1s ease;
            min-height: 10px;
            box-shadow: 0 0 10px rgba(255, 0, 110, 0.5);
        }

        .visualizer-bar.beat-active {
            animation: barPulse 0.3s ease-out;
        }

        @keyframes barPulse {
            0% { height: var(--bar-height); }
            50% { height: calc(var(--bar-height) * 1.5); box-shadow: 0 0 20px var(--neon-cyan); }
            100% { height: var(--bar-height); }
        }

        /* Status Bar */
        .status-bar {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 50px;
            padding: 15px 25px;
            border: 1px solid var(--glass-border);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pulse-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--neon-cyan);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .slide-counter {
            background: var(--energy-gradient);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Beat Effects */
        .beat-effect {
            position: fixed;
            pointer-events: none;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 0, 110, 0.6) 0%, transparent 70%);
            animation: beatRipple 0.6s ease-out;
            z-index: 1000;
        }

        @keyframes beatRipple {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }

        /* Enhanced Effects */
        .photo.beat-dance {
            animation: beatDance 0.8s ease-out;
        }

        .photo.beat-bounce {
            animation: beatBounce 0.6s ease-out;
        }

        .photo.beat-spin {
            animation: beatSpin 1s ease-out;
        }

        .photo.beat-shake {
            animation: beatShake 0.5s ease-out;
        }

        .photo.beat-zoom-crazy {
            animation: beatZoomCrazy 0.7s ease-out;
        }

        @keyframes beatDance {
            0% { transform: scale(1) rotate(0deg) translateY(0px); }
            25% { transform: scale(1.2) rotate(-15deg) translateY(-30px); filter: hue-rotate(90deg) brightness(1.5); }
            50% { transform: scale(0.8) rotate(15deg) translateY(20px); filter: hue-rotate(180deg) brightness(2); }
            75% { transform: scale(1.3) rotate(-10deg) translateY(-40px); filter: hue-rotate(270deg) brightness(1.3); }
            100% { transform: scale(1) rotate(0deg) translateY(0px); filter: hue-rotate(360deg) brightness(1); }
        }

        @keyframes beatBounce {
            0% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-100px) scale(1.2) rotateX(20deg); }
            50% { transform: translateY(50px) scale(0.9) rotateX(-10deg); }
            75% { transform: translateY(-150px) scale(1.4) rotateX(30deg); }
            100% { transform: translateY(0px) scale(1) rotateX(0deg); }
        }

        @keyframes beatSpin {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(180deg) scale(1.3); filter: saturate(2) brightness(1.5); }
            50% { transform: rotate(360deg) scale(0.7); filter: saturate(3) brightness(2); }
            75% { transform: rotate(540deg) scale(1.4); filter: saturate(1.5) brightness(1.3); }
            100% { transform: rotate(720deg) scale(1); filter: saturate(1) brightness(1); }
        }

        @keyframes beatShake {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(0deg); }
            10% { transform: translateX(-20px) translateY(10px) rotate(-2deg); }
            20% { transform: translateX(25px) translateY(-15px) rotate(3deg); }
            30% { transform: translateX(-30px) translateY(20px) rotate(-4deg); }
            40% { transform: translateX(35px) translateY(-25px) rotate(5deg); }
            50% { transform: translateX(-25px) translateY(15px) rotate(-3deg); }
            60% { transform: translateX(20px) translateY(-10px) rotate(2deg); }
            70% { transform: translateX(-15px) translateY(5px) rotate(-1deg); }
            80% { transform: translateX(10px) translateY(-8px) rotate(1deg); }
            90% { transform: translateX(-5px) translateY(3px) rotate(-0.5deg); }
        }

        @keyframes beatZoomCrazy {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            20% { transform: scale(2) rotate(45deg); opacity: 0.8; filter: blur(2px) hue-rotate(60deg); }
            40% { transform: scale(0.3) rotate(-90deg); opacity: 0.6; filter: blur(5px) hue-rotate(120deg); }
            60% { transform: scale(2.5) rotate(180deg); opacity: 0.9; filter: blur(1px) hue-rotate(180deg); }
            80% { transform: scale(0.1) rotate(-270deg); opacity: 0.4; filter: blur(8px) hue-rotate(240deg); }
            100% { transform: scale(1) rotate(360deg); opacity: 1; filter: blur(0px) hue-rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .control-panel {
                grid-template-columns: 1fr;
                padding: 0 15px 20px;
            }
            
            .main-display {
                margin: 15px;
            }
            
            .display-content {
                height: 60vh;
            }
        }

        input[type="file"] {
            display: none !important;
            position: absolute;
            left: -9999px;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="cosmic-bg" id="cosmicBg"></div>
    <div class="energy-wave"></div>
    
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <header class="main-header">
            <h1 class="logo-title">BEAT SYNC STUDIO</h1>
            <p class="subtitle">ìŒì•…ê³¼ ì‚¬ì§„ì´ ì‚´ì•„ ì›€ì§ì´ëŠ” ë§ˆë²•ê°™ì€ ê²½í—˜</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <!-- Audio Upload -->
            <div class="control-card">
                <h3 class="card-title">ğŸµ ìŒì•… ì—…ë¡œë“œ</h3>
                <div class="upload-zone" id="audioUploadZone">
                    <div class="upload-icon">ğŸµ</div>
                    <p><strong>ìŒì•… íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì„¸ìš”</strong></p>
                    <p>MP3, WAV, M4A, AAC, OGG ë“± ì§€ì›</p>
                </div>
                <input type="file" id="audioFile" accept="audio/*,.mp3,.wav,.m4a,.aac,.ogg" tabindex="-1">
                <button class="btn" id="micBtn">ğŸ¤ ë§ˆì´í¬ ì‚¬ìš©</button>
                <button class="btn" id="playPauseBtn">â–¶ï¸ ì¬ìƒ / ì¼ì‹œì •ì§€</button>
            </div>

            <!-- Photo Upload -->
            <div class="control-card">
                <h3 class="card-title">ğŸ“¸ ì‚¬ì§„ ì—…ë¡œë“œ</h3>
                <div class="upload-zone" id="photoUploadZone">
                    <div class="upload-icon">ğŸ“¸</div>
                    <p><strong>ì‚¬ì§„ë“¤ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì„¸ìš”</strong></p>
                    <p>ì—¬ëŸ¬ ì¥ ë™ì‹œ ì—…ë¡œë“œ ê°€ëŠ¥ (JPG, PNG, GIF, WEBP)</p>
                </div>
                <input type="file" id="photoFiles" accept="image/*,.jpg,.jpeg,.png,.gif,.webp,.bmp" multiple tabindex="-1">
                <button class="btn" id="clearPhotosBtn">ğŸ—‘ï¸ ëª¨ë“  ì‚¬ì§„ ì‚­ì œ</button>
                <div id="photoCount">ì‚¬ì§„ì´ ì—…ë¡œë“œë˜ì§€ ì•ŠìŒ</div>
            </div>

            <!-- Controls -->
            <div class="control-card">
                <h3 class="card-title">ğŸ›ï¸ ì»¨íŠ¸ë¡¤</h3>
                <button class="btn" id="prevBtn">â¬…ï¸ ì´ì „</button>
                <button class="btn" id="nextBtn">â¡ï¸ ë‹¤ìŒ</button>
                <button class="btn" id="autoBtn">ğŸ”„ ìë™ëª¨ë“œ: ON</button>
                <button class="btn" id="fullscreenBtn">ğŸ–¥ï¸ ì „ì²´í™”ë©´</button>
            </div>

            <!-- Settings -->
            <div class="control-card">
                <h3 class="card-title">âš™ï¸ ì„¤ì •</h3>
                <button class="btn" id="sensitivityBtn">ğŸšï¸ ë¹„íŠ¸ê°ë„: ë³´í†µ</button>
                <button class="btn" id="effectBtn">âœ¨ ì´í™íŠ¸: ê°•í•¨</button>
                <button class="btn" id="speedBtn">âš¡ ì†ë„: ë³´í†µ</button>
            </div>
        </div>

        <!-- Main Display -->
        <div class="main-display" id="mainDisplay">
            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-indicator">
                    <div class="pulse-dot"></div>
                    <span id="statusText">ìŒì•…ê³¼ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì„œ ì‹œì‘í•˜ì„¸ìš”!</span>
                </div>
                <div class="slide-counter">
                    <span id="currentSlide">1</span> / <span id="totalSlides">1</span>
                </div>
            </div>

            <!-- Display Content -->
            <div class="display-content" id="displayContent">
                <div class="welcome-screen">
                    <h2 class="welcome-title">ğŸŒŸ í™˜ì˜í•©ë‹ˆë‹¤!</h2>
                    <p class="welcome-text">
                        ìŒì•…ì˜ ë¹„íŠ¸ì— ë§ì¶° ì‚¬ì§„ì´ ì‚´ì•„ ì›€ì§ì´ëŠ” íŠ¹ë³„í•œ ê²½í—˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.<br>
                        ìŒì•… íŒŒì¼ê³¼ ì‚¬ì§„ë“¤ì„ ì—…ë¡œë“œí•˜ë©´ AIê°€ ìë™ìœ¼ë¡œ ì™„ë²½í•œ íƒ€ì´ë°ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- Audio Visualizer -->
            <div class="visualizer-container" id="visualizerContainer"></div>
        </div>
    </div>

    <script>
        class BeatSyncStudio {
            constructor() {
                this.photos = [];
                this.currentIndex = 0;
                this.isPlaying = false;
                this.isAutoMode = true;
                this.audioContext = null;
                this.analyser = null;
                this.audioElement = null;
                this.microphone = null;
                this.beatThreshold = 1.2;
                this.sensitivity = 1;
                this.effectLevel = 2;
                this.lastBeatTime = 0;
                this.beatCooldown = 300;
                this.visualizerBars = [];
                this.isFullscreen = false;
                this.activeEffects = [];
                this.beatCount = 0;
                this.lastStrongBeat = 0;
                this.energyHistory = [];
                
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.createVisualizer();
                this.createStars();
                this.startVisualizerAnimation();
            }

            setupEventListeners() {
                this.setupDragAndDrop();
                
                // Controls
                document.getElementById('playPauseBtn').addEventListener('click', () => this.togglePlayPause());
                document.getElementById('micBtn').addEventListener('click', () => this.toggleMicrophone());
                document.getElementById('prevBtn').addEventListener('click', () => this.previousPhoto());
                document.getElementById('nextBtn').addEventListener('click', () => this.nextPhoto());
                document.getElementById('autoBtn').addEventListener('click', () => this.toggleAutoMode());
                document.getElementById('fullscreenBtn').addEventListener('click', () => this.toggleFullscreen());
                document.getElementById('clearPhotosBtn').addEventListener('click', () => this.clearPhotos());
                
                // Settings
                document.getElementById('sensitivityBtn').addEventListener('click', () => this.cycleSensitivity());
                document.getElementById('effectBtn').addEventListener('click', () => this.cycleEffect());
                document.getElementById('speedBtn').addEventListener('click', () => this.cycleSpeed());
                
                // Keyboard controls
                document.addEventListener('keydown', (e) => this.handleKeyboard(e));
            }

            setupDragAndDrop() {
                const audioZone = document.getElementById('audioUploadZone');
                const photoZone = document.getElementById('photoUploadZone');
                const audioInput = document.getElementById('audioFile');
                const photoInput = document.getElementById('photoFiles');
                
                // Audio zone
                audioZone.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    audioInput.click();
                });
                
                audioZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    audioZone.classList.add('dragover');
                });
                
                audioZone.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    audioZone.classList.remove('dragover');
                });
                
                audioZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    audioZone.classList.remove('dragover');
                    const files = e.dataTransfer.files;
                    if (files[0] && files[0].type.startsWith('audio/')) {
                        this.handleAudioFile(files[0]);
                    }
                });
                
                // Photo zone
                photoZone.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    photoInput.click();
                });
                
                photoZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    photoZone.classList.add('dragover');
                });
                
                photoZone.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    photoZone.classList.remove('dragover');
                });
                
                photoZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    photoZone.classList.remove('dragover');
                    const files = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
                    if (files.length > 0) {
                        this.handlePhotoFiles(files);
                    }
                });
                
                // File input events
                audioInput.addEventListener('change', (e) => {
                    if (e.target.files[0]) {
                        this.handleAudioFile(e.target.files[0]);
                    }
                });
                
                photoInput.addEventListener('change', (e) => {
                    const files = Array.from(e.target.files);
                    if (files.length > 0) {
                        this.handlePhotoFiles(files);
                    }
                });
            }

            async handleAudioFile(file) {
                try {
                    this.updateStatus(`ìŒì•… ë¡œë”© ì¤‘: ${file.name}`);
                    
                    if (this.audioElement) {
                        this.audioElement.pause();
                    }

                    this.audioElement = new Audio();
                    this.audioElement.src = URL.createObjectURL(file);
                    
                    await this.setupAudioContext();
                    this.updateStatus(`ìŒì•… ì¤€ë¹„ ì™„ë£Œ: ${file.name}`);
                    
                } catch (error) {
                    this.updateStatus('ìŒì•… íŒŒì¼ ë¡œë”© ì˜¤ë¥˜');
                    console.error('Audio setup error:', error);
                }
            }

            handlePhotoFiles(files) {
                if (files.length === 0) return;

                this.updateStatus(`${files.length}ì¥ì˜ ì‚¬ì§„ ì—…ë¡œë“œ ì¤‘...`);

                files.forEach(file => {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.photos.push({
                                name: file.name,
                                url: e.target.result,
                                file: file
                            });
                            this.updatePhotoDisplay();
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            updatePhotoDisplay() {
                this.updatePhotoCount();
                this.createPhotoContainers();
                
                if (this.photos.length > 0) {
                    this.currentIndex = 0;
                    this.showPhoto(0);
                    this.updateStatus(`${this.photos.length}ì¥ì˜ ì‚¬ì§„ ì¤€ë¹„ ì™„ë£Œ!`);
                }
            }

            updatePhotoCount() {
                const photoCount = document.getElementById('photoCount');
                if (this.photos.length > 0) {
                    photoCount.textContent = `${this.photos.length}ì¥ì˜ ì‚¬ì§„ ì—…ë¡œë“œë¨`;
                    photoCount.style.color = 'var(--neon-cyan)';
                } else {
                    photoCount.textContent = 'ì‚¬ì§„ì´ ì—…ë¡œë“œë˜ì§€ ì•ŠìŒ';
                    photoCount.style.color = 'rgba(255, 255, 255, 0.6)';
                }
            }

            createPhotoContainers() {
                const displayContent = document.getElementById('displayContent');
                displayContent.innerHTML = '';

                this.photos.forEach((photo, index) => {
                    const container = document.createElement('div');
                    container.className = 'photo-container';
                    container.innerHTML = `<img src="${photo.url}" alt="${photo.name}" class="photo">`;
                    displayContent.appendChild(container);
                });

                this.updateSlideCounter();
            }

            showPhoto(index) {
                if (this.photos.length === 0) return;

                document.querySelectorAll('.photo-container').forEach(container => {
                    container.classList.remove('active');
                });

                const containers = document.querySelectorAll('.photo-container');
                if (containers[index]) {
                    containers[index].classList.add('active');
                }

                // Reset any active effects when new photo is shown
                this.clearTemporaryEffects();
                
                this.currentIndex = index;
                this.updateSlideCounter();
            }

            clearTemporaryEffects() {
                // Clear any temporary visual effects but keep the main photos
                const temporaryElements = document.querySelectorAll('.flying-photo, .scatter-photo, .glass-shard, .beat-effect');
                temporaryElements.forEach(element => {
                    if (element.parentNode) {
                        element.parentNode.removeChild(element);
                    }
                });
                
                // Reset photo filters but don't remove the photo elements
                const photos = document.querySelectorAll('.photo');
                photos.forEach(photo => {
                    photo.style.filter = '';
                    photo.style.transform = '';
                    // Remove beat effect classes
                    photo.classList.remove('beat-dance', 'beat-bounce', 'beat-spin', 'beat-shake', 'beat-zoom-crazy');
                });
            }

            nextPhoto() {
                if (this.photos.length === 0) return;
                const nextIndex = (this.currentIndex + 1) % this.photos.length;
                this.showPhoto(nextIndex);
                
                // Add transition effect
                this.addPhotoTransitionEffect('next');
            }

            previousPhoto() {
                if (this.photos.length === 0) return;
                const prevIndex = this.currentIndex === 0 ? this.photos.length - 1 : this.currentIndex - 1;
                this.showPhoto(prevIndex);
                
                // Add transition effect
                this.addPhotoTransitionEffect('prev');
            }

            addPhotoTransitionEffect(direction) {
                const currentContainer = document.querySelectorAll('.photo-container')[this.currentIndex];
                if (!currentContainer) return;
                
                const photo = currentContainer.querySelector('.photo');
                if (!photo) return;
                
                // Add entrance animation based on direction
                if (direction === 'next') {
                    photo.style.animation = 'slideInFromRight 0.5s ease-out';
                } else {
                    photo.style.animation = 'slideInFromLeft 0.5s ease-out';
                }
                
                // Reset animation after completion
                setTimeout(() => {
                    if (photo) {
                        photo.style.animation = '';
                    }
                }, 500);
            }

            async setupAudioContext() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    this.analyser = this.audioContext.createAnalyser();
                    this.analyser.fftSize = 1024;
                    this.analyser.smoothingTimeConstant = 0.3;

                    const source = this.audioContext.createMediaElementSource(this.audioElement);
                    source.connect(this.analyser);
                    source.connect(this.audioContext.destination);
                    
                    this.startBeatDetection();
                } catch (error) {
                    console.error('Audio context setup failed:', error);
                    this.updateStatus('ì˜¤ë””ì˜¤ ì„¤ì • ì‹¤íŒ¨');
                }
            }

            async toggleMicrophone() {
                if (this.microphone) {
                    this.microphone.getTracks().forEach(track => track.stop());
                    this.microphone = null;
                    this.updateStatus('ë§ˆì´í¬ ì¤‘ì§€ë¨');
                    return;
                }

                try {
                    this.microphone = await navigator.mediaDevices.getUserMedia({ audio: true });
                    
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    this.analyser = this.audioContext.createAnalyser();
                    this.analyser.fftSize = 512;

                    const source = this.audioContext.createMediaStreamSource(this.microphone);
                    source.connect(this.analyser);

                    this.startBeatDetection();
                    this.updateStatus('ë§ˆì´í¬ í™œì„±í™” - ë¹„íŠ¸ ê°ì§€ ì¤‘');
                } catch (error) {
                    this.updateStatus('ë§ˆì´í¬ ì ‘ê·¼ ê±°ë¶€ë¨');
                    console.error('Microphone error:', error);
                }
            }

            startBeatDetection() {
                const bufferLength = this.analyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);
                let lastBeatDetected = 0;
                
                const detectBeat = () => {
                    if (!this.analyser) return;
                    
                    this.analyser.getByteFrequencyData(dataArray);
                    
                    let bassEnergy = 0;
                    let midEnergy = 0;
                    let highEnergy = 0;
                    
                    const bassRange = Math.floor(bufferLength * 0.15);
                    const midRange = Math.floor(bufferLength * 0.5);
                    
                    for (let i = 0; i < bassRange; i++) {
                        bassEnergy += dataArray[i];
                    }
                    for (let i = bassRange; i < midRange; i++) {
                        midEnergy += dataArray[i];
                    }
                    for (let i = midRange; i < bufferLength; i++) {
                        highEnergy += dataArray[i];
                    }
                    
                    bassEnergy /= bassRange;
                    midEnergy /= (midRange - bassRange);
                    highEnergy /= (bufferLength - midRange);

                    this.updateVisualizerWithData(dataArray);

                    const now = Date.now();
                    const totalEnergy = (bassEnergy * 2 + midEnergy + highEnergy) / 4;
                    const energyThreshold = this.beatThreshold * 80;
                    
                    if (totalEnergy > energyThreshold && now - lastBeatDetected > this.beatCooldown) {
                        this.onBeatDetected(bassEnergy, midEnergy, highEnergy);
                        lastBeatDetected = now;
                        this.updateStatus(`ğŸµ ë¹„íŠ¸ ê°ì§€! ì—ë„ˆì§€: ${totalEnergy.toFixed(1)}`);
                    }

                    requestAnimationFrame(detectBeat);
                };

                detectBeat();
            }

            onBeatDetected(bassEnergy, midEnergy, highEnergy) {
                this.beatCount++;
                const now = Date.now();
                const totalEnergy = (bassEnergy + midEnergy + highEnergy) / 3;
                
                const intensity = this.getBeatIntensity(bassEnergy, midEnergy, highEnergy);
                
                // Execute enhanced photo effects based on intensity
                this.executeEnhancedEffects(intensity, bassEnergy, midEnergy, highEnergy);
                
                // Trigger beat response
                this.triggerBeatResponse(intensity, now);
                
                // Auto photo change if enabled
                if (this.isAutoMode) {
                    this.handleAutoPhotoChange(intensity, now);
                }
            }

            executeEnhancedEffects(intensity, bass, mid, high) {
                if (this.photos.length === 0) return;

                console.log(`ğŸ¨ Executing ${intensity} effects`);

                switch (intensity) {
                    case 'extreme':
                        this.triggerExtremeEffects();
                        break;
                    case 'strong':
                        this.triggerStrongEffects(bass, mid, high);
                        break;
                    case 'medium':
                        this.triggerMediumEffects();
                        break;
                    case 'weak':
                        this.triggerWeakEffects();
                        break;
                }
            }

            triggerExtremeEffects() {
                const effectType = Math.random();
                
                if (effectType < 0.2) {
                    this.performGlassShatterEffect();
                } else if (effectType < 0.4) {
                    this.performPhotoScatterEffect();
                } else if (effectType < 0.6) {
                    this.performMultiDirectionalFlyEffect();
                } else if (effectType < 0.8) {
                    this.performPaperCrumpleEffect();
                } else {
                    this.performPhotoExplosionEffect();
                }
            }

            performPhotoExplosionEffect() {
                if (this.photos.length === 0) return;
                
                console.log('ğŸ’¥ Photo Explosion Effect!');
                
                const photosToExplode = this.getRandomPhotos(Math.min(5, this.photos.length));
                
                photosToExplode.forEach((photo, index) => {
                    setTimeout(() => {
                        const explosionPhoto = document.createElement('img');
                        explosionPhoto.src = photo.url;
                        explosionPhoto.style.cssText = `
                            position: fixed;
                            left: 50%;
                            top: 50%;
                            transform: translate(-50%, -50%);
                            width: 100px;
                            height: 80px;
                            z-index: 1000;
                            border-radius: 10px;
                            box-shadow: 0 0 20px rgba(255, 0, 110, 0.8);
                        `;
                        
                        document.body.appendChild(explosionPhoto);
                        
                        // Animate explosion
                        const angle = (index / photosToExplode.length) * 360;
                        const distance = 300 + Math.random() * 200;
                        const endX = Math.cos(angle * Math.PI / 180) * distance;
                        const endY = Math.sin(angle * Math.PI / 180) * distance;
                        
                        setTimeout(() => {
                            explosionPhoto.style.transition = 'all 1.5s ease-out';
                            explosionPhoto.style.transform = `translate(calc(-50% + ${endX}px), calc(-50% + ${endY}px)) rotate(${720 + Math.random() * 360}deg) scale(0.1)`;
                            explosionPhoto.style.opacity = '0';
                            explosionPhoto.style.filter = 'blur(5px) brightness(3)';
                        }, 50);
                        
                        setTimeout(() => {
                            if (explosionPhoto.parentNode) {
                                explosionPhoto.parentNode.removeChild(explosionPhoto);
                            }
                        }, 1600);
                    }, index * 100);
                });
            }

            triggerStrongEffects(bass, mid, high) {
                // Apply strong beat effects to current photo
                const photos = document.querySelectorAll('.photo');
                photos.forEach(photo => {
                    photo.classList.remove('beat-dance', 'beat-bounce', 'beat-spin', 'beat-shake', 'beat-zoom-crazy');
                    
                    if (bass > mid && bass > high) {
                        photo.classList.add('beat-bounce');
                    } else if (mid > bass && mid > high) {
                        photo.classList.add('beat-spin');
                    } else {
                        photo.classList.add('beat-zoom-crazy');
                    }
                });

                // Trigger special effects based on random chance
                const effectChance = Math.random();
                if (effectChance < 0.3) {
                    this.performDirectionalFlyEffect();
                } else if (effectChance < 0.5) {
                    this.performPhotoRainEffect();
                } else if (effectChance < 0.7) {
                    this.performSpinningPhotosEffect();
                }
            }

            performPhotoRainEffect() {
                if (this.photos.length === 0) return;
                
                console.log('ğŸŒ§ï¸ Photo Rain Effect!');
                
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const photo = this.getRandomPhoto();
                        const rainPhoto = document.createElement('img');
                        rainPhoto.src = photo.url;
                        rainPhoto.style.cssText = `
                            position: fixed;
                            left: ${Math.random() * 100}%;
                            top: -150px;
                            width: ${60 + Math.random() * 40}px;
                            height: ${40 + Math.random() * 30}px;
                            z-index: 1000;
                            border-radius: 8px;
                            transform: rotate(${Math.random() * 360}deg);
                            transition: all 3s linear;
                        `;
                        
                        document.body.appendChild(rainPhoto);
                        
                        setTimeout(() => {
                            rainPhoto.style.top = '100vh';
                            rainPhoto.style.transform = `rotate(${720 + Math.random() * 360}deg)`;
                        }, 100);
                        
                        setTimeout(() => {
                            if (rainPhoto.parentNode) {
                                rainPhoto.parentNode.removeChild(rainPhoto);
                            }
                        }, 3100);
                    }, i * 200);
                }
            }

            performSpinningPhotosEffect() {
                if (this.photos.length === 0) return;
                
                console.log('ğŸŒ€ Spinning Photos Effect!');
                
                const photosToSpin = this.getRandomPhotos(3);
                
                photosToSpin.forEach((photo, index) => {
                    const spinPhoto = document.createElement('img');
                    spinPhoto.src = photo.url;
                    spinPhoto.style.cssText = `
                        position: fixed;
                        left: 50%;
                        top: 50%;
                        transform: translate(-50%, -50%);
                        width: 120px;
                        height: 90px;
                        z-index: 1000;
                        border-radius: 10px;
                        animation: orbitSpin${index + 1} 2s ease-in-out;
                    `;
                    
                    document.body.appendChild(spinPhoto);
                    
                    setTimeout(() => {
                        if (spinPhoto.parentNode) {
                            spinPhoto.parentNode.removeChild(spinPhoto);
                        }
                    }, 2000);
                });
            }

            triggerMediumEffects() {
                const photos = document.querySelectorAll('.photo');
                photos.forEach(photo => {
                    photo.classList.remove('beat-dance', 'beat-bounce', 'beat-spin', 'beat-shake');
                    photo.classList.add('beat-dance');
                });
                
                // Occasional medium effects
                if (Math.random() > 0.8) {
                    this.performFloatingPhotosEffect();
                }
            }

            performFloatingPhotosEffect() {
                if (this.photos.length === 0) return;
                
                console.log('ğŸŒ¸ Floating Photos Effect!');
                
                const photo = this.getRandomPhoto();
                const floatingPhoto = document.createElement('img');
                floatingPhoto.src = photo.url;
                floatingPhoto.style.cssText = `
                    position: fixed;
                    left: ${20 + Math.random() * 60}%;
                    top: ${20 + Math.random() * 60}%;
                    width: 150px;
                    height: 100px;
                    z-index: 1000;
                    border-radius: 15px;
                    animation: gentleFloat 4s ease-in-out;
                    filter: drop-shadow(0 10px 30px rgba(255, 0, 110, 0.4));
                `;
                
                document.body.appendChild(floatingPhoto);
                
                setTimeout(() => {
                    if (floatingPhoto.parentNode) {
                        floatingPhoto.parentNode.removeChild(floatingPhoto);
                    }
                }, 4000);
            }

            triggerWeakEffects() {
                const photos = document.querySelectorAll('.photo');
                photos.forEach(photo => {
                    photo.classList.remove('beat-dance', 'beat-bounce', 'beat-spin', 'beat-shake');
                    photo.classList.add('beat-shake');
                });
                
                // Subtle effects for weak beats
                if (Math.random() > 0.9) {
                    this.performSubtleGlowEffect();
                }
            }

            performSubtleGlowEffect() {
                const photos = document.querySelectorAll('.photo');
                photos.forEach(photo => {
                    const originalFilter = photo.style.filter;
                    photo.style.filter = 'drop-shadow(0 0 40px rgba(6, 255, 165, 0.8)) brightness(1.3)';
                    
                    setTimeout(() => {
                        photo.style.filter = originalFilter;
                    }, 500);
                });
            }

            performGlassShatterEffect() {
    if (this.photos.length === 0) return;
    
    console.log('ğŸ’¥ Glass Shatter Effect!');
    
    const photo = this.getRandomPhoto();
    const displayContent = document.getElementById('displayContent');
    
    // ê°„ë‹¨í•˜ê²Œ ë©”ì„œë“œ ì™„ë£Œ
    console.log('Glass shatter effect triggered!');
}
                
           
               
                    
